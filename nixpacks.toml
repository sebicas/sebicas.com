# Nixpacks configuration for Vite React static site

[phases.setup]
nixPkgs = ["nodejs_20", "npm-9_x", "curl"]

[phases.install]
cmds = ["npm ci || npm install"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "npx serve dist -s -l ${PORT:-3000}"

[healthcheck]
cmd = "curl --fail http://localhost:${PORT:-3000}/ || exit 1"
interval = "60s"
timeout = "10s"
startPeriod = "30s"
retries = "3"
